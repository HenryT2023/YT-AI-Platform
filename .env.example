# ===========================
# 严田 AI 文明引擎 环境变量模板
# ===========================
# 复制此文件为 .env 并填入实际值
# cp .env.example .env

# -----------------
# 基础配置
# -----------------
ENV=development
DEBUG=true
LOG_LEVEL=INFO

# -----------------
# 服务端口
# -----------------
CORE_BACKEND_PORT=8000
AI_ORCHESTRATOR_PORT=8001
ADMIN_CONSOLE_PORT=3000

# -----------------
# PostgreSQL
# -----------------
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=yantian
POSTGRES_USER=yantian
POSTGRES_PASSWORD=your_secure_password_here

# 连接 URL（由上述变量组合）
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# 数据库连接池配置
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=1800

# -----------------
# Redis
# -----------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/0

# Celery Broker
CELERY_BROKER_URL=redis://${REDIS_HOST}:${REDIS_PORT}/1
CELERY_RESULT_BACKEND=redis://${REDIS_HOST}:${REDIS_PORT}/2

# -----------------
# 向量数据库 (Qdrant)
# -----------------
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_API_KEY=

# 或使用 Pinecone
# PINECONE_API_KEY=
# PINECONE_ENVIRONMENT=
# PINECONE_INDEX_NAME=yantian-knowledge

# -----------------
# AI 模型配置
# -----------------
# OpenAI
OPENAI_API_KEY=sk-your-openai-key-here
OPENAI_API_BASE=https://api.openai.com/v1
OPENAI_MODEL=gpt-4o

# 或使用阿里云 Qwen
# QWEN_API_KEY=
# QWEN_API_BASE=https://dashscope.aliyuncs.com/api/v1
# QWEN_MODEL=qwen-max

# 或使用本地 Ollama
# OLLAMA_BASE_URL=http://localhost:11434
# OLLAMA_MODEL=llama3

# 默认 LLM Provider: openai / qwen / ollama
LLM_PROVIDER=openai

# Embedding 模型
EMBEDDING_PROVIDER=openai
EMBEDDING_MODEL=text-embedding-3-small

# -----------------
# TTS / ASR（语音合成/识别）
# -----------------
# TTS_PROVIDER=azure / elevenlabs / local
TTS_PROVIDER=
TTS_API_KEY=

# ASR_PROVIDER=azure / whisper / local
ASR_PROVIDER=
ASR_API_KEY=

# -----------------
# 对象存储（媒体文件）
# -----------------
# S3 兼容存储（阿里云 OSS / MinIO / AWS S3）
S3_ENDPOINT=
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_BUCKET=yantian-assets
S3_REGION=cn-hangzhou

# -----------------
# 安全配置
# -----------------
# JWT 密钥（生产环境请使用强随机字符串）
JWT_SECRET_KEY=your-super-secret-jwt-key-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# API Key（用于服务间通信）
INTERNAL_API_KEY=your-internal-api-key

# CORS 允许的源（逗号分隔）
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# -----------------
# IoT / MQTT（Phase 2）
# -----------------
MQTT_BROKER_HOST=localhost
MQTT_BROKER_PORT=1883
MQTT_USERNAME=
MQTT_PASSWORD=

# -----------------
# 监控 & 日志
# -----------------
# Sentry DSN（可选）
SENTRY_DSN=

# Prometheus metrics path
METRICS_PATH=/metrics

# -----------------
# 站点配置（多租户）
# -----------------
# 默认站点 ID
DEFAULT_SITE_ID=yantian-main

# -----------------
# 功能开关
# -----------------
FEATURE_IOT_ENABLED=false
FEATURE_FARMING_ENGINE_ENABLED=false
FEATURE_ANALYTICS_ENABLED=false
FEATURE_NIGHT_TOUR_ENABLED=false
