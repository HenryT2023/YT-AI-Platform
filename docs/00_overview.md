# 严田 AI 文明引擎 - 项目概览

## 1. 项目定位

**严田 AI 文明引擎** 是一个以「祖宗智慧 × AI × 农耕节律 × 场景触发 × 游客行为学习」为核心的长期可演化文化智能系统。

### 1.1 项目不是什么

- ❌ 普通景区导览系统
- ❌ 单一 AI 聊天机器人
- ❌ 仅展示型数字内容

### 1.2 项目是什么

- ✅ 融合徽派祖宗智慧与 AI 的文化传承系统
- ✅ 多模态 AI NPC 交互平台（祖先/匠人/农夫/塾师）
- ✅ 二十四节气智慧农耕引擎
- ✅ 研学任务与游客行为学习系统
- ✅ 可复制到多个古村的多站点架构

## 2. 核心场景

| 场景 | 描述 | 涉及模块 |
|------|------|----------|
| AI 导览 | 游客通过小程序获取智能导览服务 | core-backend, ai-orchestrator |
| AI NPC 对话 | 与虚拟祖先、匠人、农夫、塾师对话 | ai-orchestrator, core-backend |
| 研学任务 | 完成文化探索任务，获取成就 | core-backend, admin-console |
| 节气农耕 | 根据节气推送农耕知识与任务 | farming-engine, core-backend |
| 夜游调度 | 夜间场景灯光、音效、NPC 调度 | iot-gateway, core-backend |
| 运营管理 | 内容管理、数据分析、站点配置 | admin-console, analytics |

## 3. 系统边界

```
┌─────────────────────────────────────────────────────────────────┐
│                        严田 AI 文明引擎                          │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │  小程序/H5  │  │  Admin CMS  │  │  现场触屏   │  ← 前端应用  │
│  └──────┬──────┘  └──────┬──────┘  └──────┬──────┘             │
│         │                │                │                     │
│         └────────────────┼────────────────┘                     │
│                          ▼                                      │
│  ┌───────────────────────────────────────────────────────────┐ │
│  │                    API Gateway                             │ │
│  └───────────────────────────────────────────────────────────┘ │
│         │                │                │                     │
│         ▼                ▼                ▼                     │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │Core Backend │  │AI Orchestr. │  │   Worker    │  ← 核心服务  │
│  └─────────────┘  └─────────────┘  └─────────────┘             │
│         │                │                │                     │
│         ▼                ▼                ▼                     │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │ PostgreSQL  │  │   Qdrant    │  │    Redis    │  ← 数据层    │
│  └─────────────┘  └─────────────┘  └─────────────┘             │
├─────────────────────────────────────────────────────────────────┤
│  Phase 2:                                                       │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │ IoT Gateway │  │Farming Eng. │  │  Analytics  │             │
│  └─────────────┘  └─────────────┘  └─────────────┘             │
└─────────────────────────────────────────────────────────────────┘
```

## 4. 核心设计原则

### 4.1 场景优先于算法

任何 AI、API、数据结构，必须明确回答：**服务于哪个严田场景？**

### 4.2 文化准确性高于智能表现

- 不允许编造徽派历史、祖训、农耕知识
- 不确定内容必须标注为「推测 / 需人工确认」
- AI 是祖宗智慧的**解释器**，不是篡改者

### 4.3 模块化、可拆解、可替换

- 每个能力都是独立模块
- 未来可替换模型、数据库、IoT 厂商
- 服务间通过明确的 API 契约通信

### 4.4 内容可运营

- NPC 人设、任务树、场景规则必须配置化
- CMS 优先于 hardcode
- 使用 JSON Schema 统一数据格式

### 4.5 人机协同

- AI 辅助匠人、农民、老师，而不是取代他们
- 保留人工审核与干预机制

## 5. 多站点架构

系统设计为「多租户」架构，支持未来复制到其他古村：

- 所有核心实体都带 `site_id` 字段
- 站点级别的配置隔离
- 共享基础能力，独立站点内容

## 6. 版本路线图

| 版本 | 里程碑 | 核心交付 |
|------|--------|----------|
| v0.1.0 | MVP | core-backend + ai-orchestrator + admin-console |
| v0.2.0 | 研学系统 | 任务系统 + 游客画像 + 成就体系 |
| v0.3.0 | IoT 集成 | IoT 网关 + 节气农耕引擎 |
| v0.4.0 | 夜游系统 | 场景调度 + 灯光音效控制 |
| v1.0.0 | 生产就绪 | 多站点支持 + 完整运维体系 |

## 7. 文档索引

- [系统架构](01_architecture.md)
- [数据模型](02_data_model.md)
- [API 规范](03_api_spec.md)
- [NPC 人设规范](04_npc_persona_spec.md)
- [场景触发规范](05_scene_trigger_spec.md)
- [研学任务 Schema](06_learning_quest_schema.md)
- [IoT 网关规范](07_iot_gateway_spec.md)
- [运维手册](08_ops_runbook.md)
